@model SistemaVentas.Models.Producto
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{ ViewData["Title"] = "Detalles";

                var carrito = new Carrito();

                var id = Model.Id; }




<h3>Detalles del Producto</h3>
<div>


    <hr />
    <form asp-action="CarritoC">
        <input type="hidden" asp-for="@carrito.Nombre" value="@Model.Nombre" />
        <input type="hidden" asp-for="@carrito.Descripcion" value="@Model.Descripcion" />

        <input type="hidden" asp-for="@carrito.Precio" value="@Model.Precio" />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Nombre)
            </dt>
            <dd class="col-sm-10">


                @Html.DisplayFor(model => model.Nombre)

            </dd>
            <dt class="col-sm-2">

                @Html.DisplayNameFor(model => model.Descripcion)
            </dt>
            <dd class="col-sm-10">

                @Html.DisplayFor(model => model.Descripcion)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.AvatarImage)
            </dt>
            <dd class="col-sm-10">
                <img src="@Url.Action("ConvertirImagen","MProducto",new {id = Model.Id})" style="width:200px; height:200px;" />
            </dd>
            <dt class="col-sm-2">

                @Html.DisplayNameFor(model => model.Precio)
            </dt>
            <dd class="col-sm-10">
                <h4>RD $@Html.DisplayFor(model => model.Precio)</h4>
            </dd>

            @if (SignInManager.IsSignedIn(User))
            {


<dt class="col-sm-2">

    Cantidad:
</dt>
                <dd class="col-sm-10">
                    <input type="number" asp-for="@carrito.Cantidad" value="1" />
                    <button type="submit" value="Añadir al carrito" class="btn btn-success">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-shopping-cart-plus" width="32" height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <circle cx="6" cy="19" r="2" />
                            <circle cx="17" cy="19" r="2" />
                            <path d="M17 17h-11v-14h-2" />
                            <path d="M6 5l6.005 .429m7.138 6.573l-.143 .998h-13" />
                            <path d="M15 6h6m-3 -3v6" />
                        </svg>
                    </button>


                </dd>            }

        </dl>


        @if (SignInManager.IsSignedIn(User))
        {
<input type="hidden" asp-for="@carrito.Usuariop" value=" @User.Identity.Name" />
                <a asp-action="Productos" class="btn btn-outline-info">Volver</a>
                                <a asp-action="Productos" class="btn btn-primary">Comprar</a> }
                                            else
                                            {
                                <a asp-action="Productos" class="btn btn-outline-info">Volver</a>
                                                <a class="btn btn-outline-info" asp-area="Identity" asp-page="/Account/Login">Inicia Sesion</a>}



    </form>



</div>

